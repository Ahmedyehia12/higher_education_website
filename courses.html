<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Students</title>
    <link rel="stylesheet" href="stylesheet.css">
    <script src="course.js"></script>
</head>
<body>
  <div class = "search_button">
    <input type="text" placeholder="Search..">
    <button>
        <a href="students.html">Search</a>
    </button>
    Filter by
    <select>
        <option value="0">Department</option>
        <option value="0">Select Department:</option>
        <option value="1">IT</option>
        <option value="2">IS</option>
        <option value="3">AI</option>
        <option value="4">CS</option>
        <option value="5">DS</option>
    </select>
</div>
<br>
  <table class="cards"> 
    <script>
      
      if(!localStorage.courses){
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
          localStorage.courses = this.responseText;
        }
        let content = "";
        content += "<tr>";
        let tmp = JSON.parse(localStorage.courses);
        for(let i = 0; i < tmp.length; i++){
          content+="<td>";
          content+="<div class = 'card'>";
          content+="<h2>" + tmp[i].name + "</h2>";
          content+="<p class='title1'>" + tmp[i].id + "</p>";
          content+="<p>Barvard University</p>";
          content+="<p>Number of Students: " + tmp[i].noStudents + "</p>";
          content+="<p>Department: " + tmp[i].department + "</p>";
          content+="<div style='margin: 24px 0;'>";
          content+="</div>";
          content+="</div>";
          content+="</td>";
          if((i+1)%3 == 0){
            content += "</tr>";
            content += "<tr>";
          }
        }
        content += "</tr>";
        document.getElementsByClassName("cards")[0].innerHTML = content;
      };
      xhttp.open("GET", "http://127.0.0.1:5500/courses.json", true);
      xhttp.send();
    }
    else{
      let content = "";
        content += "<tr>";
        let tmp = JSON.parse(localStorage.courses);
        for(let i = 0; i < tmp.length; i++){
          content+="<td>";
          content+="<div class = 'card'>";
          content+="<h2>" + tmp[i].name + "</h2>";
          content+="<p class='title1'>" + tmp[i].id + "</p>";
          content+="<p>Barvard University</p>";
          content+="<p>Number of Students: " + tmp[i].noStudents + "</p>";
          content+="<p>Department: " + tmp[i].department + "</p>";
          content+="<div style='margin: 24px 0;'>";
          content+="</div>";
          content+="</div>";
          content+="</td>";
          if((i+1)%3 == 0){
            content += "</tr>";
            content += "<tr>";
          }
        }
        content += "</tr>";
        document.getElementsByClassName("cards")[0].innerHTML = content;
    }

    </script>
  </table>

<button class = "create_new">
    <a href="add_new_course.html ">Add New Course</a>
</button>

<ul class="nav_bar">
  <li>
      <a href="main_page.html">Home</a>
  </li>
  <li>
      <a href="main_page.html#Anouncments">Announcements</a>
  </li>
  <li>
      <a href="courses.html">Courses</a>
  </li>
  <li>
      <a href="students.html">Students</a>
  </li>
  <li>
      <a href="departments.html">Departments</a>
  </li>
</ul>
</body>



</html>