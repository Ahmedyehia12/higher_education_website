<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Add Student</title>
    <link rel="stylesheet" href="stylesheet.css">
    <script src = "students_script.js" ></script>
    <script src = "students.js" > </script>
    <script>

    let loadedStudents = loadStudents();
    function validFName(){
    let fName = document.getElementById("fname").value;
    let regex = /^[A-Z][a-z]*$/;
    if(!regex.test(fName)){
        window.alert("Enter first name that contains: " +
        "First letter upper and other lower" +
        "No symbols" +
        "No numbers"); 
    }
   
}
function validLName(){
    let lName = document.getElementById("lname").value;
    let regex = /^[A-Z][a-z]*$/;
    if(!regex.test(lName)){
       window.alert("Enter last name that contains: " +
        "First letter upper and other lower" +
        "No symbols" +
        "No numbers");
       }

}
function validUni(){
    let uName = document.getElementById("universty").value;
    let regex = /^[a-zA-Z]{2,4}$/;
    if(!regex.test(uName)){
        alert("Enter the Universty abbreviation name: " +
        "No symbols" +
        "No numbers");
    }
    
}
function validID(){
    let id = (document.getElementById("stdID").value);
    let regex=/^\d{8}$/;
    if(regex.test(id)){
        if(loadedStudents[id] != null){
            alert("ID already exists");
            return false;
        }
        else{
            return true;
        }
    }
    else{
        alert("Please enter a valid ID");
        return false;
    }
}


function createNewStudent(){
    if(document.getElementById("fname").value == 0 || document.getElementById("lname").value == 0 || document.getElementById("universty").value == 0 || document.getElementById("stdID").value == 0 || document.getElementById("gender").value == 0 || document.getElementById("dep").value == 0 || document.getElementById("status").value == 0 || document.getElementById("course1").value == 0 ||document.getElementById("course2").value == 0 || document.getElementById("course3").value == 0 || document.getElementById("birthday").value == 0){
        alert("Please fill all the fields");
    }

    else{
        loadedStudents[document.getElementById("stdID").value] = new Student (
           id =  document.getElementById("stdID").value,
           fname =  document.getElementById("fname").value,
           lname = document.getElementById("lname").value,
           university = document.getElementById("universty").value,
           gender =  document.getElementById("gender").value,
            department = document.getElementById("dep").value,
           stat =  document.getElementById("status").value,
           course1 = document.getElementById("course1").value,
            course2 = document.getElementById("course2").value,
           course3 =  document.getElementById("course3").value,
           birthdate =  document.getElementById("birthday").value  );
           
           localStorage.students = JSON.stringify(loadedStudents);
            alert("Student added successfully");
            window.location.href = "students.html";
      
    }

}
    </script> 
   
</head>
<body>
    <ul>
        <li>
            <div class="centered">
                <div class="title2">
                    
                        <label1 for="fname">First name:</label1>
                        <input type="text" id="fname" name="fname" placeholder="Enter your first name"><br><br>

                        <label1 for="lname">Last name:</label1>
                        <input type="text" id="lname" name="lname" placeholder="Enter your last name"><br><br>

                        <label1 for="universty">Universty:</label1>
                        <input type="text" id="universty" name="universty" placeholder="Universty"><br><br>

                        <label1 for="stdID">STD ID:</label1>
                        <input type="number" id="stdID" name="stdID" placeholder="ID"><br><br>

                        <label1 for="gender">Gender:</label1>
                        <select id = "gender">
                            <option value="0">Select Gender:</option>
                            <option value="1">Male</option>
                            <option value="2">Female</option>
                        </select><br><br>

                        <label1 for="department">Department:</label1>
                        <select id = "dep">
                            <option value="0">Select Department:</option>
                            <option value="1">IT</option>
                            <option value="2">IS</option>
                            <option value="3">AI</option>
                            <option value="4">CS</option>
                            <option value="5">DS</option>
                        </select><br><br>

                        <label1 for="status">Status:</label1>
                        <select id = "status">
                            <option value="0">Select status:</option>
                            <option value="1">Active</option>
                            <option value="2">Inactive</option>
                          </select>
                        <br><br>

                        <label1 for="courses">Courses:</label1>
                        <select id = "course1">
                            <option value="0">Course 1:</option>
                            <option value="1">Data Base</option>
                            <option value="2">Software Engineering</option>
                            <option value="3">Math-1</option>
                            <option value="4">Programming</option>
                            <option value="5">Statistics</option>
                        </select>
                        <select id = "course2">
                            <option value="0">Course 2:</option>
                            <option value="1">Data Base</option>
                            <option value="2">Software Engineering</option>
                            <option value="3">Math-1</option>
                            <option value="4">Programming</option>
                            <option value="5">Statistics</option>
                        </select>
                        <select id = "course3">
                            <option value="0">Course 3:</option>
                            <option value="1">Data Base</option>
                            <option value="2">Software Engineering</option>
                            <option value="3">Math-1</option>
                            <option value="4">Programming</option>
                            <option value="5">Statistics</option>
                        </select> <br><br>

                        <label1 for="birthday">Birthdate:</label1>
                        <input type="date" id="birthday" name="birthday" ><br><br>

                        <button onclick="createNewStudent()">Add Student</button>



                    
                </div>

            </div>
        </li>
    </ul>
    <ul class="nav_bar">
        <li>
            <a href="main_page.html">Home</a>
        </li>
        <li>
            <a href="main_page.html#Anouncments">Announcements</a>
        </li>
        <li>
            <a href="courses.html">Courses</a>
        </li>
        <li>
            <a href="students.html">Students</a>
        </li>
        <li>
            <a href="departments.html">Departments</a>
        </li>
    </ul>

</body>
</html>